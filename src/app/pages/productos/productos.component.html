<app-header titulo="Productos"></app-header>

<ion-content>
    <ion-searchbar (ionInput)="getNombre($event)" placeholder="Buscar productos..." animated></ion-searchbar>

    <ion-list *ngFor="let item of productos; let i = index" lines="none">
        <ion-item tappable (click)="toggleProducto(i)">
            <ion-icon slot="start" name="arrow-forward" *ngIf="!item.open"></ion-icon>
            <ion-icon slot="start" name="arrow-down" *ngIf="item.open"></ion-icon>
            <ion-label>{{ item.nombre }}</ion-label>
        </ion-item>

        <div *ngIf="item.detalles && item.open">
            <ion-list *ngFor="let child of item.detalles; let j = index" lines="none">
                <ion-item>
                    <ion-label>
                        Categoria: {{ child.categoria }}
                    </ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>Descripcion: {{ child.descripcion }}</ion-label>
                </ion-item>
                <ion-item tappable (click)="toggleDetalles(i, j)">
                    <ion-icon slot="start" name="add" *ngIf="!child.open"></ion-icon>
                    <ion-icon slot="start" name="close" *ngIf="child.open"></ion-icon>
                    <ion-label>
                        Costo
                    </ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>Marca: {{ child.marca }}</ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>Existencia: {{ child.existencia }}</ion-label>
                </ion-item>
                <ion-item tappable (click)="toggleItem(i, j)">
                    <ion-icon slot="start" name="add" *ngIf="!child.open"></ion-icon>
                    <ion-icon slot="start" name="close" *ngIf="child.open"></ion-icon>
                    <ion-label>
                        Precio
                    </ion-label>
                </ion-item>
                <ion-item>
                    <ion-label>Observaciones: {{ child.observaciones }}</ion-label>
                </ion-item>
            </ion-list>
        </div>
    </ion-list>
    <!--ion-row>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Categoria:</ion-label>
                <ion-input type="text"></ion-input>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Descripción:</ion-label>
                <ion-textarea></ion-textarea>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Precio:</ion-label>
                <ion-input type="number"></ion-input>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Mínimo:</ion-label>
                <ion-input type="number"></ion-input>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Máximo:</ion-label>
                <ion-input type="number"></ion-input>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Marca:</ion-label>
                <ion-input type="text"></ion-input>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Existencia:</ion-label>
                <ion-input type="text"></ion-input>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label>Activa</ion-label>
                <ion-toggle checked></ion-toggle>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Precios:</ion-label>
                <ion-input type="text"></ion-input>
            </ion-item>
        </ion-col>
        <ion-col size="12">
            <ion-item>
                <ion-label position="floating">Observaciones:</ion-label>
                <ion-textarea></ion-textarea>
            </ion-item>
        </ion-col>
    </ion-row-->
    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button>
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ion-content>