<app-header titulo="Zonas"></app-header>

<ion-content>
    <ion-searchbar (ionInput)="getNombre($event)" placeholder="Buscar zonas..." animated></ion-searchbar>

    <ion-list *ngFor="let item of zonas; let i = index" lines="none" class="accordion-list ion-no-padding">
        <ion-item tappable (click)="toggleProducto(i)" [ngClass]="{'section-active': item.open, 'section': !item.open}">
            <ion-icon slot="start" name="arrow-forward" *ngIf="!item.open"></ion-icon>
            <ion-icon slot="start" name="arrow-down" *ngIf="item.open"></ion-icon>
            <ion-label>{{ item.nombre }}</ion-label>
        </ion-item>

        <div *ngIf="item.detalles && item.open" color="#F1F1F1">
            <ion-list *ngFor="let child of item.detalles; let j = index" lines="none" class="child-list">
                <ion-item>
                    <ion-label><span>Categoria: </span>{{ child.categoria }}</ion-label>
                </ion-item>
                <ion-item>
                    <ion-label><span>Marca: </span>{{ child.marca }}</ion-label>
                </ion-item>
                <ion-item>
                    <ion-label><span>Existencia: </span>{{ child.existencia }}</ion-label>
                </ion-item>
                <!--ion-item tappable (click)="toggleDetalles(i, j)">
                    <ion-icon slot="start" name="add" *ngIf="!child.open"></ion-icon>
                    <ion-icon slot="start" name="close" *ngIf="child.open"></ion-icon>
                    <ion-label>
                        Precio
                    </ion-label>
                </ion-item-->
            </ion-list>
        </div>
    </ion-list>

    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button (click)="abrirModal()">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>
    
</ion-content>